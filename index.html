<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Clinch</title>
  </head>
  <body>
    <iframe src="https://embed-sandbox.clinch.gg" style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden; z-index:999999;">
        Your browser doesn't support iframes
    </iframe>
    <script type="module">
      import { loadClinch, cancelInvoice } from './clinch-sdk.js';
    
      const config = {
        operatorId: 'speed',
        clinchUrl: "https://embed-sandbox.clinch.gg",
        companyName: "Speed",
        paymentType: "lightning",  // Lightning Iframe Only
        showSats: true,  // Lightning Iframe Only
        logging: true,
        lightningAddress: "jack@zbd.gg", // Lightning Iframe Only
      };
    
      async function getToken() {
        console.log("Clinch SDK: Get the server to server thndr authentication token");
        return "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS9nb29nbGUuaWRlbnRpdHkuaWRlbnRpdHl0b29sa2l0LnYxLklkZW50aXR5VG9vbGtpdCIsImlhdCI6MTcyODU3NzY0MywiZXhwIjoxNzI4NTgxMjQzLCJpc3MiOiJmaXJlYmFzZS1hZG1pbnNkay11aHlsY0BjbGluY2gtc2FuZC5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsInN1YiI6ImZpcmViYXNlLWFkbWluc2RrLXVoeWxjQGNsaW5jaC1zYW5kLmlhbS5nc2VydmljZWFjY291bnQuY29tIiwidWlkIjoiYjFlNzRiYzQtZWJhZi00NWQ4LTk3MzMtYTcyYzNiMjNlZThjIn0.PcBE2koTtBL--3rjiJ8DElqtKqVafv0F6ZjgfzCWebfXhsGg04Nc-hLfARsfk4EjPwxnoVRN9crwA2yhLopAXKu-80Q4GzYCJ7hBSb9z6BbNZ37n0saljO4QMgUlaA1rOnvXI0YDLhLZ5sVgTGUhKtzXwN3L-khpDxUPL1VzvkElitT1gI2p3B45y1gAlk6tHyt2yaXJChCxCmERnJXtFLdTsri5XIo6JVK9jKbpTXNR2AZqsEhJpamaQdVbVKvZEKFLRSGYlqSlahOpi-4QEImAfUQ7y4DKiSYb1_IUaU3_PU_XDUvJKuJ4SsKdYA3tPEG0szUaaasyyxOJizZfIQ";
      }
    
      async function getBalance() {
        return {
          balance: 10000,
          currency: "sats", // your currency
        };
      }
    
      async function onPayInvoice(invoice) {
        console.log("Pay invoice", invoice);
      }
    
      // Use this is you need to cancel the invoice and because you are not going to pay it.
      //cancelInvoice(invoice, "https://embed-sandbox.clinch.gg");

      loadClinch(
        config,
        getToken,
        getBalance,
        onPayInvoice // optional
      );
    </script>
  </body>
</html>